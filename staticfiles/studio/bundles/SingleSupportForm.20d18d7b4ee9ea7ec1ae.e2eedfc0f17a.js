!function(e,t){for(var r in t)e[r]=t[r]}(window,webpackJsonp([13],{"./lms/djangoapps/support/static/support/jsx/errors_list.jsx":function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var n=r("./node_modules/react/index.js"),i=r.n(n),l=r("./node_modules/prop-types/index.js"),c=r.n(l),u=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),p=function(e){function t(){return a(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),u(t,[{key:"render",value:function(){return this.props.errorList.length>0&&window.scrollTo(0,0),this.props.errorList.length>0&&i.a.createElement("div",{className:"col-sm-12"},i.a.createElement("div",{className:"alert alert-danger",role:"alert"},i.a.createElement("strong",null,gettext("Please fix the following errors:")),i.a.createElement("ul",null,this.props.errorList.map(function(e){return i.a.createElement("li",null,e)}))))}}]),t}(i.a.Component);p.propTypes={errorList:c.a.arrayOf(c.a.object).isRequired},t.a=p},"./lms/djangoapps/support/static/support/jsx/file_upload.jsx":function(e,t,r){"use strict";(function(e){function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=r("./node_modules/react/index.js"),n=r.n(o),i=r("./node_modules/prop-types/index.js"),l=r.n(i),c=r("./lms/djangoapps/support/static/support/jsx/upload_progress.jsx"),u=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),p=function(r){function o(e){t(this,o);var r=a(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,e));return r.uploadFile=r.uploadFile.bind(r),r.removeFile=r.removeFile.bind(r),r.state={fileList:[],fileInProgress:null},r}return s(o,r),u(o,[{key:"removeFile",value:function(e){e.preventDefault();var t=e.target.id,r=this,a=this.props.zendeskApiHost+"/api/v2/uploads/"+t+".json",s=new XMLHttpRequest;s.open("DELETE",a,!0),s.setRequestHeader("Authorization","Bearer "+this.props.accessToken),s.setRequestHeader("Content-Type","application/json;charset=UTF-8"),s.send(),s.onreadystatechange=function(){4===s.readyState&&204===s.status&&r.setState({fileList:r.state.fileList.filter(function(e){return e.fileToken!==t})})}}},{key:"uploadFile",value:function(t){var r=this.props.zendeskApiHost+"/api/v2/uploads.json?filename=",a=new FileReader,s=new XMLHttpRequest,o=[],n=this,i=t.target.files[0],l=["gif","png","jpg","jpeg","pdf"];e(t.target).val(""),i.size>5e6?o.push(gettext("Files that you upload must be smaller than 5MB in size.")):-1===e.inArray(i.name.split(".").pop().toLowerCase(),l)&&o.push(gettext("Files that you upload must be PDFs or image files in .gif, .jpg, .jpeg, or .png format.")),this.props.setErrorState(o),o.length>0||(s.open("POST",r+i.name,!0),s.setRequestHeader("Authorization","Bearer "+this.props.accessToken),s.setRequestHeader("Content-Type","application/binary"),a.readAsArrayBuffer(i),a.onloadend=function(){n.setState({fileInProgress:i.name,currentRequest:s}),s.send(a.result)},s.upload.onprogress=function(t){if(t.lengthComputable){var r=t.loaded/t.total*100;e(".progress-bar-striped").css({width:r+"%"})}},s.onreadystatechange=function(){if(4===s.readyState&&201===s.status){var e={fileName:i.name,fileToken:JSON.parse(s.response).upload.token};n.setState({fileList:n.state.fileList.concat(e),fileInProgress:null})}},s.onerror=function(){n.setState({fileInProgress:null,errorList:[gettext("Something went wrong. Please try again later.")]})},s.onabort=function(){n.setState({fileInProgress:null})})}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"file-container"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-sm-12"},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"attachment"},gettext("Add Attachment"),n.a.createElement("span",null," ",gettext("(Optional)"))),n.a.createElement("input",{id:"attachment",className:"file file-loading",type:"file",accept:".pdf, .jpeg, .png, .jpg, .gif",onChange:this.uploadFile})))),n.a.createElement("div",{className:"progress-container"},this.state.fileInProgress&&n.a.createElement(c.a,{fileName:this.state.fileInProgress,request:this.state.currentRequest})),n.a.createElement("div",{className:"uploaded-files"},this.state.fileList.map(function(t){return n.a.createElement("div",{key:t.fileToken,className:"row"},n.a.createElement("div",{className:"col-sm-12"},n.a.createElement("span",{className:"file-name"},t.fileName),n.a.createElement("span",{className:"file-action remove-upload"},n.a.createElement("button",{className:"btn btn-link",id:t.fileToken,onClick:e.removeFile},gettext("Remove file")))))})))}}]),o}(n.a.Component);p.propTypes={setErrorState:l.a.func.isRequired,zendeskApiHost:l.a.string.isRequired,accessToken:l.a.string.isRequired}}).call(t,r(0))},"./lms/djangoapps/support/static/support/jsx/logged_in_user.jsx":function(e,t,r){"use strict";function a(e){var t=e.userInformation,r=(e.setErrorState,e.zendeskApiHost,e.submitForm),a=void 0;return a=t.enrollments?o.a.createElement("div",null,o.a.createElement("label",{className:"label-course",htmlFor:"course"},gettext("Course Name")),o.a.createElement("select",{className:"form-control select-course",id:"course",defaultValue:t.course_id},o.a.createElement("option",{key:"select-course",value:""},"--------"),o.a.createElement("option",{key:"not-course-specific",value:"Not specific to a course"},gettext("Not specific to a course")),t.enrollments.map(function(e){return o.a.createElement("option",{key:e.course_id,value:e.course_id},e.course_name)}))):o.a.createElement("div",null,o.a.createElement("label",{htmlFor:"course"},gettext("Course Name")),o.a.createElement("input",{type:"text",className:"form-control",id:"course"})),o.a.createElement("div",null,o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-sm-12 user-info","data-username":t.username,"data-email":t.email},o.a.createElement("p",null,c.a.interpolate(gettext("What can we help you with, {username}?"),{username:t.username})))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-sm-12"},o.a.createElement("div",{className:"form-group"},a))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-sm-12"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"subject"},gettext("Subject")),o.a.createElement("input",{type:"text",className:"form-control",id:"subject"})))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-sm-12"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"message"},gettext("Details")),o.a.createElement("p",{className:"message-desc"},gettext("The more you tell us, the more quickly and helpfully we can respond!")),o.a.createElement("textarea",{"aria-describedby":"message",className:"form-control",rows:"7",id:"message"})))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-sm-12"},o.a.createElement("button",{className:"btn btn-primary btn-submit",onClick:r},gettext("Submit")))))}var s=r("./node_modules/react/index.js"),o=r.n(s),n=r("./node_modules/prop-types/index.js"),i=r.n(n),l=r("./node_modules/edx-ui-toolkit/src/js/utils/string-utils.js"),c=r.n(l);r("./lms/djangoapps/support/static/support/jsx/file_upload.jsx");a.propTypes={setErrorState:i.a.func.isRequired,submitForm:i.a.func.isRequired,userInformation:i.a.arrayOf(i.a.object).isRequired,submitFormUrl:i.a.string.isRequired},t.a=a},"./lms/djangoapps/support/static/support/jsx/logged_out_user.jsx":function(e,t,r){"use strict";function a(e){var t=e.platformName,r=e.loginQuery,a=e.supportEmail;return o.a.createElement("div",null,o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-sm-12"},o.a.createElement("p",null,c.a.interpolate(gettext("Sign in to {platform} so we can help you better."),{platform:t})))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-sm-12"},o.a.createElement("a",{href:"/login"+r,className:"btn btn-primary btn-signin"},gettext("Sign in")))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-sm-12"},o.a.createElement("a",{className:"create-account",href:"/register"+r},c.a.interpolate(gettext("Create an {platform} account"),{platform:t})),o.a.createElement("p",{className:"create-account-note"},c.a.interpolate(gettext("If you are unable to access your account contact us via email using {email}."),{email:a})))))}var s=r("./node_modules/react/index.js"),o=r.n(s),n=r("./node_modules/prop-types/index.js"),i=r.n(n),l=r("./node_modules/edx-ui-toolkit/src/js/utils/string-utils.js"),c=r.n(l);a.propTypes={platformName:i.a.string.isRequired,loginQuery:i.a.string.isRequired,supportEmail:i.a.string.isRequired},t.a=a},"./lms/djangoapps/support/static/support/jsx/single_support_form.jsx":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.d(t,"SingleSupportForm",function(){return E});var n=r("./node_modules/prop-types/index.js"),i=r.n(n),l=r("./node_modules/react/index.js"),c=r.n(l),u=r("./node_modules/react-dom/index.js"),p=r.n(u),m=r("./node_modules/edx-ui-toolkit/src/js/utils/string-utils.js"),d=r.n(m),f=r("./lms/djangoapps/support/static/support/jsx/errors_list.jsx"),g=r("./lms/djangoapps/support/static/support/jsx/logged_in_user.jsx"),h=r("./lms/djangoapps/support/static/support/jsx/logged_out_user.jsx"),b=r("./lms/djangoapps/support/static/support/jsx/success.jsx"),y=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),v=function(t){function r(e){a(this,r);var t=s(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e));return t.state={currentRequest:null,errorList:[],success:!1},t.submitForm=t.submitForm.bind(t),t.setErrorState=t.setErrorState.bind(t),t}return o(r,t),y(r,[{key:"setErrorState",value:function(e){this.setState({errorList:e})}},{key:"submitForm",value:function(){var t=this.props.context.submitFormUrl,r=e(".user-info"),a=new XMLHttpRequest,s=e("#course"),o={subject:e("#subject").val(),comment:{body:e("#message").val()},tags:this.props.context.tags},n=[],i=void 0;this.clearErrors(),o.requester={email:r.data("email"),name:r.data("username")},i=s.find(":selected").val(),i||(i=s.val()),i||(e("#course").closest(".form-group").addClass("has-error"),n.push(gettext('Select a course or select "Not specific to a course" for your support request.'))),o.custom_fields=[{id:this.props.context.customFields.course_id,value:i}],this.validateData(o,n)&&(a.open("POST",t,!0),a.setRequestHeader("Content-type","application/json;charset=UTF-8"),a.setRequestHeader("X-CSRFToken",e.cookie("csrftoken")),a.send(JSON.stringify(o)),a.onreadystatechange=function(){4===a.readyState&&201===a.status&&this.setState({success:!0})}.bind(this),a.onerror=function(){this.setErrorState([gettext("Something went wrong. Please try again later.")])}.bind(this))}},{key:"clearErrors",value:function(){this.setErrorState([]),e(".form-group").removeClass("has-error")}},{key:"validateData",value:function(t,r){return t.subject||(r.push(gettext("Enter a subject for your support request.")),e("#subject").closest(".form-group").addClass("has-error")),t.comment.body||(r.push(gettext("Enter some details for your support request.")),e("#message").closest(".form-group").addClass("has-error")),!r.length||(this.setErrorState(r),!1)}},{key:"renderSuccess",value:function(){return c.a.createElement(b.a,{platformName:this.props.context.platformName,homepageUrl:this.props.context.homepageUrl,dashboardUrl:this.props.context.dashboardUrl,isLoggedIn:void 0!==this.props.context.user})}},{key:"renderSupportForm",value:function(){var e=void 0;return e=this.props.context.user?c.a.createElement(g.a,{userInformation:this.props.context.user,submitFormUrl:this.props.context.submitFormUrl,setErrorState:this.setErrorState,submitForm:this.submitForm}):c.a.createElement(h.a,{platformName:this.props.context.platformName,loginQuery:this.props.context.loginQuery,supportEmail:this.props.context.supportEmail}),c.a.createElement("div",{className:"contact-us-wrapper"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-sm-12"},c.a.createElement("h2",null,gettext("Contact Us")))),c.a.createElement("div",{className:"row form-errors"},c.a.createElement(f.a,{errorList:this.state.errorList})),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-sm-12"},c.a.createElement("p",null,gettext("Find answers to the top questions asked by learners.")))),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-sm-12"},c.a.createElement("a",{href:this.props.context.marketingUrl,className:"btn btn-secondary help-button"},d.a.interpolate(gettext("Search the {platform} Help Center"),{platform:this.props.context.platformName})))),e)}},{key:"render",value:function(){return this.state.success?this.renderSuccess():this.renderSupportForm()}}]),r}(c.a.Component);v.propTypes={context:i.a.arrayOf(i.a.object).isRequired};var E=function e(t){a(this,e),p.a.render(c.a.createElement(v,{context:t}),document.getElementById("root"))}}.call(t,r(0))},"./lms/djangoapps/support/static/support/jsx/success.jsx":function(e,t,r){"use strict";function a(e){var t=e.platformName,r=e.homepageUrl,a=e.dashboardUrl,s=e.isLoggedIn,n=void 0,i=void 0;return s?(n=gettext("Go to my Dashboard"),i=a):(n=c.a.interpolate(gettext("Go to {platform} Home"),{platform:t}),i=r),o.a.createElement("div",{className:"contact-us-wrapper"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-sm-12"},o.a.createElement("h2",null,gettext("Contact Us")))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-sm-12"},o.a.createElement("p",null,gettext("Thank you for submitting a request! We will contact you within 24 hours.")))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-sm-12"},o.a.createElement("a",{href:i,className:"btn btn-secondary help-button"},n))))}var s=r("./node_modules/react/index.js"),o=r.n(s),n=r("./node_modules/prop-types/index.js"),i=r.n(n),l=r("./node_modules/edx-ui-toolkit/src/js/utils/string-utils.js"),c=r.n(l);a.propTypes={platformName:i.a.string.isRequired,dashboardUrl:i.a.string.isRequired,homepageUrl:i.a.string.isRequired,isLoggedIn:i.a.bool.isRequired},t.a=a},"./lms/djangoapps/support/static/support/jsx/upload_progress.jsx":function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var n=r("./node_modules/react/index.js"),i=r.n(n),l=r("./node_modules/prop-types/index.js"),c=r.n(l),u=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),p=function(e){function t(e){a(this,t);var r=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.abortRequest=r.abortRequest.bind(r),r}return o(t,e),u(t,[{key:"abortRequest",value:function(e){e.preventDefault(),this.props.request.abort()}},{key:"render",value:function(){return i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-sm-12"},i.a.createElement("div",{className:"form-group"},i.a.createElement("span",{className:"file-name"},this.props.fileName),i.a.createElement("span",{className:"file-action abort-upload"},i.a.createElement("button",{className:"btn btn-link",onClick:this.abortRequest},gettext("Cancel upload"))),i.a.createElement("div",{className:"progress"},i.a.createElement("div",{className:"progress-bar progress-bar-striped zero-width",role:"progressbar"})))))}}]),t}(i.a.Component);p.propTypes={fileName:c.a.string.isRequired,request:c.a.objectOf(XMLHttpRequest).isRequired},t.a=p}},["./lms/djangoapps/support/static/support/jsx/single_support_form.jsx"]));