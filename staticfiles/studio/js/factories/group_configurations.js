/**
 * @license RequireJS domReady 2.0.1 Copyright (c) 2010-2012, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/requirejs/domReady for details
 */

!function(e,t){if("function"==typeof define&&define.amd)define("backbone.associations",["underscore","backbone"],function(i,n){return t(e,n,i)});else if("undefined"!=typeof exports){var i=require("underscore"),n=require("backbone");t(e,n,i),"undefined"!=typeof module&&module.exports&&(module.exports=n),exports=n}else t(e,e.Backbone,e._)}(this,function(e,t,i){var n,s,o,r,a,l,u,c,d,p,h,f={};n=t.Model,s=t.Collection,o=n.prototype,a=s.prototype,r=t.Events,t.Associations={VERSION:"0.6.2"},t.Associations.scopes=[];var g=function(){return d},m=function(e){(!i.isString(e)||1>i.size(e))&&(e="."),d=e,u=RegExp("[\\"+d+"\\[\\]]+","g"),c=RegExp("[^\\"+d+"\\[\\]]+","g")};try{Object.defineProperty(t.Associations,"SEPARATOR",{enumerable:!0,get:g,set:m})}catch(v){}t.Associations.Many=t.Many="Many",t.Associations.One=t.One="One",t.Associations.Self=t.Self="Self",t.Associations.SEPARATOR=".",t.Associations.getSeparator=g,t.Associations.setSeparator=m,t.Associations.EVENTS_BUBBLE=!0,t.Associations.EVENTS_WILDCARD=!0,t.Associations.EVENTS_NC=!1,m(),l=t.AssociatedModel=t.Associations.AssociatedModel=n.extend({relations:void 0,_proxyCalls:void 0,constructor:function(e,t){t&&t.__parents__&&(this.parents=[t.__parents__]),n.apply(this,arguments)},on:function(e,n,s){var o=r.on.apply(this,arguments);if(t.Associations.EVENTS_NC)return o;var a=/\s+/;return i.isString(e)&&e&&!a.test(e)&&n&&(a=y(e))&&(f[a]="undefined"==typeof f[a]?1:f[a]+1),o},off:function(e,n,s){if(t.Associations.EVENTS_NC)return r.off.apply(this,arguments);var o=/\s+/,a=this._events,l={},u=a?i.keys(a):[],c=!e&&!n&&!s,d=i.isString(e)&&!o.test(e);if(c||d)for(var o=0,p=u.length;p>o;o++)l[u[o]]=a[u[o]]?a[u[o]].length:0;var h=r.off.apply(this,arguments);if(c||d)for(o=0,p=u.length;p>o;o++)(c=y(u[o]))&&(f[c]=a[u[o]]?f[c]-(l[u[o]]-a[u[o]].length):f[c]-l[u[o]]);return h},get:function(e){var t=this.__attributes__,i=o.get.call(this,e),t=t?x(i)?i:t[e]:i;return x(t)?t:this._getAttr.apply(this,arguments)},set:function(e,t,n){var s;return i.isObject(e)||null==e?(s=e,n=t):(s={},s[e]=t),e=this._set(s,n),this._processPendingEvents(),e},_set:function(e,t){var s,o,r,a,l=this;if(!e)return this;this.__attributes__=e;for(s in e)if(o||(o={}),s.match(u)){var c=w(s);a=i.initial(c),c=c[c.length-1],a=this.get(a),a instanceof n&&(a=o[a.cid]||(o[a.cid]={model:a,data:{}}),a.data[c]=e[s])}else a=o[this.cid]||(o[this.cid]={model:this,data:{}}),a.data[s]=e[s];if(o)for(r in o)a=o[r],this._setAttr.call(a.model,a.data,t)||(l=!1);else l=this._setAttr.call(this,e,t);return delete this.__attributes__,l},_setAttr:function(r,a){var l;if(a||(a={}),a.unset)for(l in r)r[l]=void 0;return this.parents=this.parents||[],this.relations&&i.each(this.relations,function(o){var l,u,c=o.key,d=o.scope||e,p=this._transformRelatedModel(o,r),h=this._transformCollectionType(o,p,r),f=i.isString(o.map)?b(o.map,d):o.map,g=this.attributes[c],m=g&&g.idAttribute,v=!1;if(l=o.options?i.extend({},o.options,a):a,r[c]){if(d=i.result(r,c),d=f?f.call(this,d,h?h:p):d,x(d))if(o.type===t.Many)g?(g._deferEvents=!0,g[l.reset?"reset":"set"](d instanceof s?d.models:d,l),p=g):(v=!0,d instanceof s?p=d:(p=this._createCollection(h||s,o.collectionOptions||(p?{model:p}:{})),p[l.reset?"reset":"set"](d,l)));else{if(o.type!==t.One)throw Error("type attribute must be specified and have the values Backbone.One or Backbone.Many");o=d instanceof n?d.attributes.hasOwnProperty(m):d.hasOwnProperty(m),h=d instanceof n?d.attributes[m]:d[m],g&&o&&g.attributes[m]===h?(g._deferEvents=!0,g._set(d instanceof n?d.attributes:d,l),p=g):(v=!0,d instanceof n?p=d:(l.__parents__=this,p=new p(d,l),delete l.__parents__))}else p=d;u=r[c]=p,(v||u&&!u._proxyCallback)&&(u._proxyCallback||(u._proxyCallback=function(){return t.Associations.EVENTS_BUBBLE&&this._bubbleEvent.call(this,c,u,arguments)}),u.on("all",u._proxyCallback,this))}r.hasOwnProperty(c)&&this._setupParents(r[c],this.attributes[c])},this),o.set.call(this,r,a)},_bubbleEvent:function(e,i,o){var r,a=o[0].split(":"),l=a[0],u="nested-change"==o[0],c="change"===l,g=o[1],m=-1,v=i._proxyCalls,a=a[1],w=!a||-1==a.indexOf(d);return!u&&(w&&(h=y(o[0])||e),t.Associations.EVENTS_NC||f[h])?t.Associations.EVENTS_WILDCARD&&/\[\*\]/g.test(a)?this:(i instanceof s&&(c||a)&&(m=i.indexOf(p||g)),this instanceof n&&(p=this),a=e+(-1!==m&&(c||a)?"["+m+"]":"")+(a?d+a:""),t.Associations.EVENTS_WILDCARD&&(r=a.replace(/\[\d+\]/g,"[*]")),u=[],u.push.apply(u,o),u[0]=l+":"+a,t.Associations.EVENTS_WILDCARD&&a!==r&&(u[0]=u[0]+" "+l+":"+r),v=i._proxyCalls=v||{},this._isEventAvailable.call(this,v,a)?this:(v[a]=!0,c&&(this._previousAttributes[e]=i._previousAttributes,this.changed[e]=i),this.trigger.apply(this,u),t.Associations.EVENTS_NC&&c&&this.get(a)!=o[2]&&(e=["nested-change",a,o[1]],o[2]&&e.push(o[2]),this.trigger.apply(this,e)),v&&a&&delete v[a],p=void 0,this)):void 0},_isEventAvailable:function(e,t){return i.find(e,function(e,i){return-1!==t.indexOf(i,t.length-i.length)})},_setupParents:function(e,t){e&&(e.parents=e.parents||[],-1==i.indexOf(e.parents,this)&&e.parents.push(this)),t&&0<t.parents.length&&t!=e&&(t.parents=i.difference(t.parents,[this]),t._proxyCallback&&t.off("all",t._proxyCallback,this))},_createCollection:function(e,t){var t=i.defaults(t,{model:e.model}),n=new e([],i.isFunction(t)?t.call(this):t);return n.parents=[this],n},_processPendingEvents:function(){this._processedEvents||(this._processedEvents=!0,this._deferEvents=!1,i.each(this._pendingEvents,function(e){e.c.trigger.apply(e.c,e.a)}),this._pendingEvents=[],i.each(this.relations,function(e){(e=this.attributes[e.key])&&e._processPendingEvents&&e._processPendingEvents()},this),delete this._processedEvents)},_transformRelatedModel:function(s,o){var r=s.relatedModel,a=s.scope||e;if(r&&!(r.prototype instanceof n)&&(r=i.isFunction(r)?r.call(this,s,o):r),r&&i.isString(r)&&(r=r===t.Self?this.constructor:b(r,a)),s.type===t.One){if(!r)throw Error("specify a relatedModel for Backbone.One type");if(!(r.prototype instanceof t.Model))throw Error("specify an AssociatedModel or Backbone.Model for Backbone.One type")}return r},_transformCollectionType:function(o,r,a){var l=o.collectionType,u=o.scope||e;if(l&&i.isFunction(l)&&l.prototype instanceof n)throw Error("type is of Backbone.Model. Specify derivatives of Backbone.Collection");if(l&&!(l.prototype instanceof s)&&(l=i.isFunction(l)?l.call(this,o,a):l),l&&i.isString(l)&&(l=b(l,u)),l&&!l.prototype instanceof s)throw Error("collectionType must inherit from Backbone.Collection");if(o.type===t.Many&&!r&&!l)throw Error("specify either a relatedModel or collectionType");return l},trigger:function(e){this._deferEvents?(this._pendingEvents=this._pendingEvents||[],this._pendingEvents.push({c:this,a:arguments})):o.trigger.apply(this,arguments)},toJSON:function(e){var t,n={};return n[this.idAttribute]=this.id,this.visited||(this.visited=!0,n=o.toJSON.apply(this,arguments),e&&e.serialize_keys&&(n=i.pick(n,e.serialize_keys)),this.relations&&i.each(this.relations,function(s){var o=s.key,r=s.remoteKey,a=this.attributes[o],l=!s.isTransient,s=s.serialize||[],u=i.clone(e);delete n[o],l&&(s.length&&(u?u.serialize_keys=s:u={serialize_keys:s}),t=a&&a.toJSON?a.toJSON(u):a,n[r||o]=i.isArray(t)?i.compact(t):t)},this),delete this.visited),n},clone:function(e){return new this.constructor(this.toJSON(e))},cleanup:function(e){e=e||{},i.each(this.relations,function(e){(e=this.attributes[e.key])&&(e._proxyCallback&&e.off("all",e._proxyCallback,this),e.parents=i.difference(e.parents,[this]))},this),!e.listen&&this.off()},destroy:function(e){var e=e?i.clone(e):{},e=i.defaults(e,{remove_references:!0,listen:!0}),t=this;if(e.remove_references&&e.wait){var n=e.success;e.success=function(i){n&&n(t,i,e),t.cleanup(e)}}var s=o.destroy.apply(this,[e]);return e.remove_references&&!e.wait&&t.cleanup(e),s},_getAttr:function(e){var t,n,o=this,r=this.__attributes__,e=w(e);if(!(1>i.size(e))){for(n=0;n<e.length&&(t=e[n],o);n++)o=o instanceof s?isNaN(t)?void 0:o.at(t):r?x(o.attributes[t])?o.attributes[t]:r[t]:o.attributes[t];return o}}});var w=function(e){return""===e?[""]:i.isString(e)?e.match(c):e||[]},y=function(e){return e?(e=e.split(":"),1<e.length?(e=e[e.length-1],e=e.split(d),1<e.length?e[e.length-1].split("[")[0]:e[0].split("[")[0]):""):e},b=function(e,n){var s,o=[n];o.push.apply(o,t.Associations.scopes);for(var r,a=0,l=o.length;l>a&&(!(r=o[a])||!(s=i.reduce(e.split(d),function(e,t){return e[t]},r)));++a);return s},_=function(e,t,n){var s,o;return i.find(e,function(e){return(s=i.find(e.relations,function(i){return e.get(i.key)===t},this))?(o=e,!0):void 0},this),s&&s.map?s.map.call(o,n,t):n},x=function(e){return!i.isUndefined(e)&&!i.isNull(e)},C={};return i.each(["set","remove","reset"],function(e){C[e]=s.prototype[e],a[e]=function(t,i){return this.model.prototype instanceof l&&this.parents&&(arguments[0]=_(this.parents,this,t)),C[e].apply(this,arguments)}}),C.trigger=a.trigger,a.trigger=function(e){this._deferEvents?(this._pendingEvents=this._pendingEvents||[],this._pendingEvents.push({c:this,a:arguments})):C.trigger.apply(this,arguments)},a._processPendingEvents=l.prototype._processPendingEvents,a.on=l.prototype.on,a.off=l.prototype.off,t}),define("js/models/group",["backbone","underscore","underscore.string","gettext","backbone.associations"],function(e,t,i,n){"use strict";var s=e.AssociatedModel.extend({defaults:function(){return{name:"",version:1,order:null,usage:[]}},url:function(){var e=this.collection.parents[0];return e.urlRoot+"/"+encodeURIComponent(e.id)+"/"+encodeURIComponent(this.id)},reset:function(){this.set(this._originalAttributes,{parse:!0})},isEmpty:function(){return!this.get("name")},toJSON:function(){return{id:this.get("id"),name:this.get("name"),version:this.get("version"),usage:this.get("usage")}},validate:function(e){return i.trim(e.name)?void 0:{message:n("Group name is required"),attributes:{name:!0}}}});return s}),define("js/collections/group",["underscore","underscore.string","backbone","gettext","js/models/group"],function(e,t,i,n,s){"use strict";var o=i.Collection.extend({model:s,comparator:"order",nextOrder:function(){return this.length?this.last().get("order")+1:0},isEmpty:function(){return 0===this.length||this.every(function(e){return e.isEmpty()})},getNextDefaultGroupName:function(){var i=this.nextOrder(),s=e.pluck(this.toJSON(),"name"),o="";do o=t.sprintf(n("Group %s"),this.getGroupId(i)),i++;while(e.contains(s,o));return o},getGroupId:function(){var t,i=n("ABCDEFGHIJKLMNOPQRSTUVWXYZ").split(""),s=i.length;return t=function(t,i){return e.isNumber(t)&&i?{quotient:t/i,remainder:t%i}:null},function o(e){var n,r="",a=t(e,s);return a?(n=Math.floor(a.quotient)-1,s>n?n>-1&&(r+=i[n]):r+=o(n),r+i[a.remainder]):String(e)}}()});return o}),function(){this.AjaxPrefix={addAjaxPrefix:function(e,t){return e.postWithPrefix=function(e,i,n,s){return $.post(""+t()+e,i,n,s)},e.getWithPrefix=function(e,i,n,s){return $.get(""+t()+e,i,n,s)},e.ajaxWithPrefix=function(e,i){return null!=i?$.ajax(""+t()+e,i):(i=e,i.url=""+t()+i.url,$.ajax(i))}}}}.call(this),define("js/src/ajax_prefix",function(){}),define("domReady",[],function(){"use strict";function e(e){var t;for(t=0;t<e.length;t+=1)e[t](u)}function t(){var t=c;l&&t.length&&(c=[],e(t))}function i(){l||(l=!0,r&&clearInterval(r),t())}function n(e){return l?e(u):c.push(e),n}var s,o,r,a="undefined"!=typeof window&&window.document,l=!a,u=a?document:null,c=[];if(a){if(document.addEventListener)document.addEventListener("DOMContentLoaded",i,!1),window.addEventListener("load",i,!1);else if(window.attachEvent){window.attachEvent("onload",i),o=document.createElement("div");try{s=null===window.frameElement}catch(d){}o.doScroll&&s&&window.external&&(r=setInterval(function(){try{o.doScroll(),i()}catch(e){}},30))}"complete"===document.readyState&&i()}return n.version="2.0.1",n.load=function(e,t,i,s){s.isBuild?i(null):n(i)},n}),define("text",{load:function(e){throw new Error("Dynamic load not allowed: "+e)}}),define("text!common/templates/components/system-feedback.underscore",[],function(){return'<div class="wrapper wrapper-<%= type %> wrapper-<%= type %>-<%= intent %>\n            <% if(obj.shown) { %>is-shown<% } else { %>is-hiding<% } %>\n            <% if(_.contains([\'help\', \'mini\'], intent)) { %>wrapper-<%= type %>-status<% } %>"\n     id="<%= type %>-<%= intent %>"\n     aria-hidden="<% if(obj.shown) { %>false<% } else { %>true<% } %>"\n     aria-labelledby="<%= type %>-<%= intent %>-title"\n     tabindex="-1"\n     <% if (obj.message) { %>aria-describedby="<%= type %>-<%= intent %>-description" <% } %>\n     <% if (obj.actions) { %>role="dialog"<% } %>\n  >\n  <div class="<%= type %> <%= intent %> <% if(obj.actions) { %>has-actions<% } %>">\n    <% if(obj.icon) { %>\n      <% var iconClass = {"warning": "warning", "confirmation": "check", "error": "warning", "announcement": "bullhorn", "step-required": "exclamation-circle", "help": "question", "mini": "cog"} %>\n      <span class="feedback-symbol fa fa-<%= iconClass[intent] %>" aria-hidden="true"></span>\n    <% } %>\n\n    <div class="copy">\n      <h2 class="title title-3" id="<%= type %>-<%= intent %>-title"><%- title %></h2>\n      <% if(obj.message) { %><p class="message" id="<%= type %>-<%= intent %>-description"><%- message %></p><% } %>\n    </div>\n\n    <% if(obj.actions) { %>\n    <nav class="nav-actions">\n      <ul>\n        <% if(actions.primary) { %>\n        <li class="nav-item">\n          <button class="action-primary <%= actions.primary.class %>"><%- actions.primary.text %></button>\n        </li>\n        <% } %>\n        <% if(actions.secondary) {\n             _.each(actions.secondary, function(secondary) { %>\n        <li class="nav-item">\n          <button class="action-secondary <%= secondary.class %>"><%- secondary.text %></button>\n        </li>\n        <%   });\n           } %>\n      </ul>\n    </nav>\n    <% } %>\n\n    <% if(obj.closeIcon) { %>\n    <a href="#" rel="view" class="action action-close action-<%= type %>-close">\n      <span class="icon fa fa-times-circle" aria-hidden="true"></span>\n      <span class="label">close <%= type %></span>\n    </a>\n    <% } %>\n  </div>\n</div>\n'}),function(e){"use strict";e("common/js/components/views/feedback",["jquery","underscore","underscore.string","backbone","edx-ui-toolkit/js/utils/html-utils","text!../../../../common/templates/components/system-feedback.underscore"],function(e,t,i,n,s,o){var r=["a[href]:not([tabindex='-1'])","area[href]:not([tabindex='-1'])","input:not([disabled]):not([tabindex='-1'])","select:not([disabled]):not([tabindex='-1'])","textarea:not([disabled]):not([tabindex='-1'])","button:not([disabled]):not([tabindex='-1'])","iframe:not([tabindex='-1'])","[tabindex]:not([tabindex='-1'])","[contentEditable=true]:not([tabindex='-1'])"],a=n.View.extend({options:{title:"",message:"",intent:null,type:null,shown:!0,icon:!0,closeIcon:!0,minShown:0,maxShown:1/0,outFocusElement:null},initialize:function(i){if(this.options=t.extend({},this.options,i),!this.options.type)throw"SystemFeedback: type required (given "+JSON.stringify(this.options)+")";if(!this.options.intent)throw"SystemFeedback: intent required (given "+JSON.stringify(this.options)+")";return this.setElement(e("#page-"+this.options.type)),this.options.actions&&this.options.actions.secondary&&!t.isArray(this.options.actions.secondary)&&(this.options.actions.secondary=[this.options.actions.secondary]),this},inFocus:function(e){var t,i=e||".wrapper";return this.options.outFocusElement=this.options.outFocusElement||document.activeElement,this.$(i).first().focus(),t=this.$(r.join()),t.on("keydown",function(e){9===e.which&&e.shiftKey&&e.target===t.first()[0]?(e.preventDefault(),t.last().focus()):9!==e.which||e.shiftKey||e.target!==t.last()[0]||(e.preventDefault(),t.first().focus())}),this},outFocus:function(){return this.$(r.join()).off("keydown"),this.options.outFocusElement&&this.options.outFocusElement.focus(),this},show:function(){return clearTimeout(this.hideTimeout),this.options.shown=!0,this.shownAt=new Date,this.render(),e.isNumeric(this.options.maxShown)&&(this.hideTimeout=setTimeout(t.bind(this.hide,this),this.options.maxShown)),this},hide:function(){return this.shownAt&&e.isNumeric(this.options.minShown)&&this.options.minShown>new Date-this.shownAt?(clearTimeout(this.hideTimeout),this.hideTimeout=setTimeout(t.bind(this.hide,this),this.options.minShown-(new Date-this.shownAt))):(this.options.shown=!1,delete this.shownAt,this.render()),this},events:{"click .action-close":"hide","click .action-primary":"primaryClick","click .action-secondary":"secondaryClick"},render:function(){var e=a["active_"+this.options.type];return e&&e!==this&&(e.stopListening(),e.undelegateEvents()),s.setHtml(this.$el,s.template(o)(this.options)),a["active_"+this.options.type]=this,this},primaryClick:function(e){var t,i;t=this.options.actions,t&&(i=t.primary,i&&(i.preventDefault!==!1&&e.preventDefault(),i.click&&i.click.call(e.target,this,e)))},secondaryClick:function(e){var i,n,s,o;i=this.options.actions,i&&(n=i.secondary,n&&(o=0,e&&e.target&&(o=t.indexOf(this.$(".action-secondary"),e.target)),s=n[o],s.preventDefault!==!1&&e.preventDefault(),s.click&&s.click.call(e.target,this,e)))}});return a})}.call(this,define||RequireJS.define),function(e){"use strict";e("common/js/components/views/feedback_notification",["jquery","underscore","underscore.string","./feedback"],function(e,t,i,n){var s,o,r,a=n.extend({options:e.extend({},n.prototype.options,{type:"notification",closeIcon:!1})});return s=t.compose(i.capitalize,i.camelize),o=["warning","error","confirmation","announcement","step-required","help","mini"],t.each(o,function(t){var i;i=a.extend({options:e.extend({},a.prototype.options,{intent:t})}),a[s(t)]=i}),r=a.Mini.prototype.options,r.minShown=1250,r.closeIcon=!1,a})}.call(this,define||RequireJS.define),define("cms/js/main",["domReady","jquery","underscore","underscore.string","backbone","gettext","../../common/js/components/views/feedback_notification","jquery.cookie"],function(e,t,i,n,s,o,r){"use strict";var a,l;return a=function(){return AjaxPrefix.addAjaxPrefix(jQuery,function(){return t("meta[name='path_prefix']").attr("content")}),window.CMS=window.CMS||{},window.CMS.URL=window.CMS.URL||{},window.onTouchBasedDevice=function(){return navigator.userAgent.match(/iPhone|iPod|iPad|Android/i)},i.extend(window.CMS,s.Events),s.emulateHTTP=!0,t.ajaxSetup({headers:{"X-CSRFToken":t.cookie("csrftoken")},dataType:"json",content:{script:!1}}),t(document).ajaxError(function(e,t,i){var n,s,a=o("This may be happening because of an error with our server or your internet connection. Try refreshing the page or making sure you are online.");if(i.notifyOnError!==!1)return s=t.getResponseHeader("content-type"),s&&s.indexOf("json")>-1&&t.responseText&&(a=JSON.parse(t.responseText).error),n=new r.Error({title:o("Studio's having trouble saving your work"),message:a}),console.log("Studio AJAX Error",{url:e.currentTarget.URL,response:t.responseText,status:t.status}),n.show()}),l=function(e,i,n,s){return t.isFunction(i)&&(n=i,i=void 0),t.ajax({url:e,type:s,contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify(i),success:n,global:i?i.global:!0})},t.postJSON=function(e,t,i){return l(e,t,i,"POST")},t.patchJSON=function(e,t,i){return l(e,t,i,"PATCH")},e(function(){return window.onTouchBasedDevice()?t("body").addClass("touch-based-device"):null})},a(),a}),define("js/models/group_configuration",["backbone","underscore","gettext","js/models/group","js/collections/group","backbone.associations","cms/js/main"],function(e,t,i,n,s){"use strict";var o=e.AssociatedModel.extend({defaults:function(){return{name:"",scheme:"random",description:"",version:2,groups:new s([{name:i("Group A"),order:0},{name:i("Group B"),order:1}]),showGroups:!1,editing:!1,usage:[],read_only:!1}},relations:[{type:e.Many,key:"groups",relatedModel:n,collectionType:s}],initialize:function(e,t){return this.on("remove:groups",this.groupRemoved),this.canBeEmpty=t&&t.canBeEmpty,this.setOriginalAttributes(),this},setOriginalAttributes:function(){this._originalAttributes=this.parse(this.toJSON())},reset:function(){this.set(this._originalAttributes,{parse:!0,validate:!0})},isDirty:function(){return!t.isEqual(this._originalAttributes,this.parse(this.toJSON()))},isEmpty:function(){return!this.get("name")&&this.get("groups").isEmpty()},parse:function(e){var i=$.extend(!0,{},e);return t.each(i.groups,function(e,t){e.order=e.order||t}),i},toJSON:function(){return{id:this.get("id"),name:this.get("name"),scheme:this.get("scheme"),description:this.get("description"),version:this.get("version"),groups:this.get("groups").toJSON(),read_only:this.get("read_only")}},validate:function(n){if(!n.name.trim())return{message:i("Group Configuration name is required."),attributes:{name:!0}};if(!this.canBeEmpty&&n.groups.length<1)return{message:i("There must be at least one group."),attributes:{groups:!0}};var s=new e.Collection,o=new e.Collection;if(n.groups.each(function(e){e.isValid()?s.add(e):o.add(e)}),!o.isEmpty())return{message:i("All groups must have a name."),attributes:{groups:o.toJSON()}};var r=s.map(function(e){return e.get("name")});return r.length!==t.uniq(r).length?{message:i("All groups must have a unique name."),attributes:{groups:s.toJSON()}}:void 0},groupRemoved:function(){this.setOriginalAttributes()}});return o}),define("js/collections/group_configuration",["backbone","js/models/group_configuration"],function(e,t){"use strict";var i=e.Collection.extend({model:t});return i}),define("js/utils/handle_iframe_binding",["jquery"],function(e){var t=function(t){var n=null;n="undefined"==typeof t?e("iframe, embed"):"undefined"!=typeof t.nodeName?e(t).find("iframe, embed"):t.$("iframe, embed"),i(n)},i=function(t){t.each(function(){if("IFRAME"===e(this).prop("tagName")){var t=e(this).attr("src");if(t){var i="wmode=transparent";if(-1!==t.indexOf("?")){var n=t.split("?");if(-1===n[1].search("wmode=transparent")){var s=n[1],o=n[0];e(this).attr("src",o+"?"+i+"&"+s)}}else 0!==t.lastIndexOf("javascript:",0)&&e(this).attr("src",t+"?"+i)}}else e(this).attr("wmode","transparent")})},n=function(t){if(t){var n=null,s=document.createElement("div");e(s).html(t),n=e(s).find("iframe, embed"),n.length>0&&(i(n),t=e(s).html())}return t};return{iframeBinding:t,iframeBindingHtml:n}}),define("js/utils/templates",["jquery","underscore"],function(e,t){var i=function(i){var n="#"+i+"-tpl",s=e(n).text();return s||console.error("Failed to load "+i+" template"),t.template(s)};return{loadTemplate:i}}),function(e){"use strict";e("common/js/components/views/feedback_prompt",["jquery","underscore","underscore.string","common/js/components/views/feedback"],function(e,t,i,n){var s,o,r=n.extend({options:e.extend({},n.prototype.options,{type:"prompt",closeIcon:!1,icon:!1}),render:function(){return window.$body||(window.$body=e(document.body)),this.options.shown?$body.addClass("prompt-is-shown"):$body.removeClass("prompt-is-shown"),n.prototype.render.apply(this,arguments)},show:function(){return n.prototype.show.apply(this,arguments),this.inFocus()},hide:function(){return n.prototype.hide.apply(this,arguments),this.outFocus()}});return s=t.compose(i.capitalize,i.camelize),o=["warning","error","confirmation","announcement","step-required","help","mini"],t.each(o,function(t){var i;i=r.extend({options:e.extend({},r.prototype.options,{intent:t})}),r[s(t)]=i}),r})}.call(this,define||RequireJS.define),function(e,t){"use strict";e("common/js/components/utils/view_utils",["jquery","underscore","gettext","common/js/components/views/feedback_notification","common/js/components/views/feedback_prompt"],function(e,i,n,s,o){var r,a,l,u,c,d,p,h,f,g,m,v,w,y,b,_,x,C,E,j=65;return r=function(e,t){var i=t||"collapsed";e.closest(".expand-collapse").toggleClass("expand collapse"),e.closest(".is-collapsible, .window").toggleClass(i),e.closest(".is-collapsible").children("article").slideToggle()},a=function(){e(".ui-loading").show()},l=function(){e(".ui-loading").hide()},u=function(e,t,i,s,r){return new o.Warning({title:e,message:t,actions:{primary:{text:i,click:function(e){e.hide(),s()}},secondary:{text:n("Cancel"),click:function(e){return r&&r(),e.hide()}}}}).show()},c=function(e,t){var i;return i=new s.Mini({title:n(e)}),i.show(),t().done(function(){i.hide()})},d=function(t){return function(i){var n=this;p(e(i.currentTarget),function(){return n[t].apply(n,[i])})}},p=function(e,t){return e.addClass("is-disabled").attr("aria-disabled",!0),t().always(function(){e.removeClass("is-disabled").attr("aria-disabled",!1)})},y=function(t){return function(i){i.preventDefault(),e.ajax({url:e(this).data("dismiss-link"),type:"DELETE",success:t})}},g=function(t){e("html, body").animate({scrollTop:t},500)},h=function(t){var i=t.offset().top;return i-e(window).scrollTop()},f=function(e,t){var i=e.offset().top,n=i-t;g(n)},m=function(e){window.location=e},v=function(){window.location.reload()},w=function(e,t){var n,s=e.changedAttributes();if(!s)return!1;for(n=0;n<t.length;n++)if(i.has(s,t[n]))return!0;return!1},b=function(e){return 0===e.length?n("Required field."):""},_=function(e,t){var i=b(e);if(i)return i;if(t){if(/\s/g.test(e))return n("Please do not use any spaces in this field.")}else if(e!==encodeURIComponent(e)||e.match(/[!'()*]/))return n("Please do not use any spaces or special characters in this field.");return""},x=function(t){var n=i.reduce(t,function(t,i){return t+e(i).val().length},0);return j>=n},C=function(t,n,s,o){x(s)?e(t.errorWrapper).removeClass(n.shown).addClass(n.hiding):(e(t.errorWrapper).addClass(n.shown).removeClass(n.hiding),e(t.errorMessage).html("<p>"+i.template(o)({limit:j})+"</p>"),e(t.save).addClass(n.disabled))},E=function(i){var n=e.Deferred();return t([i],function(){n.resolve()},function(){n.reject()}),n.promise()},{toggleExpandCollapse:r,showLoadingIndicator:a,hideLoadingIndicator:l,confirmThenRunOperation:u,runOperationShowingMessage:c,withDisabledElement:d,disableElementWhileRunning:p,deleteNotificationHandler:y,setScrollTop:g,getScrollOffset:h,setScrollOffset:f,redirect:m,reload:v,hasChangedAttributes:w,validateRequiredField:b,validateURLItemEncoding:_,validateTotalKeyLength:x,checkTotalKeyLengthViolations:C,loadJavaScript:E}})}.call(this,define||RequireJS.define,require||RequireJS.require),define("js/views/baseview",["jquery","underscore","backbone","gettext","js/utils/handle_iframe_binding","js/utils/templates","common/js/components/utils/view_utils"],function(e,t,i,n,s,o,r){var a=i.View.extend({events:{"click .ui-toggle-expansion":"toggleExpandCollapse"},options:{collapsedClass:"collapsed"},constructor:function(e){t.bindAll(this,"beforeRender","render","afterRender"),this.options&&(e=t.extend({},t.result(this,"options"),e)),Math.trunc||(Math.trunc=function(e){return e=+e,e-e%1||(isFinite(e)&&0!==e?0>e?-0:0:e)}),this.options=e;var n=this;this.render=t.wrap(this.render,function(e,t){return n.beforeRender(),e(t),n.afterRender(),n}),i.View.prototype.constructor.apply(this,arguments)},beforeRender:function(){},render:function(){return this},afterRender:function(){s.iframeBinding(this)},toggleExpandCollapse:function(t){var i=e(t.target);t.stopPropagation(),t.preventDefault(),r.toggleExpandCollapse(i,this.options.collapsedClass)},loadTemplate:function(e){return o.loadTemplate(e)}});return a}),define("js/views/pages/base_page",["jquery","js/views/baseview"],function(e,t){var i=t.extend({initialize:function(){t.prototype.initialize.call(this)},hasContent:function(){return!0},renderPage:function(){return e.Deferred().resolve().promise()},render:function(){var e=this;return this.$(".ui-loading").removeClass("is-hidden"),this.renderPage().done(function(){e.hasContent()||e.$(".no-content").removeClass("is-hidden")}).always(function(){e.$(".ui-loading").addClass("is-hidden")}),this}});return i}),define("js/views/list",["js/views/baseview"],function(e){"use strict";var t=e.extend({events:{"click .action-add":"onAddItem","click .new-button":"onAddItem"},listContainerCss:".list-items",initialize:function(){this.restrictEditing=this.options.restrictEditing||!1,this.listenTo(this.collection,"add",this.addNewItemView),this.listenTo(this.collection,"remove",this.onRemoveItem),this.template=this.loadTemplate("list"),this.listenTo(this.collection,"change:editing",this.toggleAddButton),this.listenTo(this.collection,"add",this.toggleAddButton),this.listenTo(this.collection,"remove",this.toggleAddButton)},render:function(e){return this.$el.html(this.template({itemCategoryDisplayName:this.itemCategoryDisplayName,newItemMessage:this.newItemMessage,emptyMessage:this.emptyMessage,length:this.collection.length,isEditing:e&&e.get("editing"),canCreateNewItem:this.canCreateItem(this.collection),restrictEditing:this.restrictEditing})),this.collection.each(function(e){this.$(this.listContainerCss).append(this.createItemView({model:e,restrictEditing:this.restrictEditing}).render().el)},this),this},hideOrShowAddButton:function(e){var t=".action-add";this.collection.length&&(e?this.$(t).removeClass("is-hidden"):this.$(t).addClass("is-hidden"))},toggleAddButton:function(e){e.get("editing")&&this.collection.contains(e)?this.hideOrShowAddButton(!1):this.hideOrShowAddButton(!0)},addNewItemView:function(e){var t=this.createItemView({model:e});this.collection.length>1?this.$(this.listContainerCss).append(t.render().el):this.render(),t.$el.focus()},canCreateItem:function(e){var t=!0;if(e.length>0){var i=e.maxAllowed;!_.isUndefined(i)&&e.length>=i&&(t=!1)}return t},onAddItem:function(e){e&&e.preventDefault&&e.preventDefault(),this.collection.add({editing:!0},this.newModelOptions)},onRemoveItem:function(){0===this.collection.length&&this.render()}});return t}),define("js/views/list_item",["js/views/baseview","jquery","gettext","common/js/components/utils/view_utils"],function(e,t,i,n){"use strict";var s=e.extend({canDelete:!1,initialize:function(){this.restrictEditing=this.options.restrictEditing||!1,this.listenTo(this.model,"change:editing",this.render),this.listenTo(this.model,"remove",this.remove)},className:function(){var e=this.model.collection.indexOf(this.model);return["wrapper-collection","wrapper-collection-"+e,this.baseClassName,this.baseClassName+"s-list-item",this.baseClassName+"s-list-item-"+e].join(" ")},deleteItem:function(e){if(e&&e.preventDefault&&e.preventDefault(),this.canDelete){var t=this.model,s=this.itemDisplayName;n.confirmThenRunOperation(interpolate(i("Delete this %(item_display_name)s?"),{item_display_name:s},!0),interpolate(i("Deleting this %(item_display_name)s is permanent and cannot be undone."),{item_display_name:s},!0),i("Delete"),function(){return n.runOperationShowingMessage(i("Deleting"),function(){return t.destroy({wait:!0})})})}},render:function(){return this.view&&this.view.remove(),this.model.get("editing")?this.view=this.createEditView():this.view=this.createDetailsView(),this.$el.html(this.view.render().el),this}});return s}),define("js/views/group_configuration_details",["js/views/baseview","underscore","gettext","underscore.string","edx-ui-toolkit/js/utils/string-utils","edx-ui-toolkit/js/utils/html-utils"],function(e,t,i,n,s,o){"use strict";var r=e.extend({tagName:"div",events:{"click .edit":"editConfiguration","click .show-groups":"showGroups","click .hide-groups":"hideGroups"},className:function(){var e=this.model.collection.indexOf(this.model);return["collection","group-configuration-details","group-configuration-details-"+e].join(" ")},initialize:function(){this.template=o.template($("#group-configuration-details-tpl").text()),this.listenTo(this.model,"change",this.render)},render:function(){var e=$.extend({},this.model.attributes,{groupsCountMessage:this.getGroupsCountTitle(),usageCountMessage:this.getUsageCountTitle(),courseOutlineUrl:this.model.collection.outlineUrl,index:this.model.collection.indexOf(this.model)});return o.setHtml(this.$el,this.template(e)),this},editConfiguration:function(e){e&&e.preventDefault&&e.preventDefault(),this.model.set("editing",!0)},showGroups:function(e){e&&e.preventDefault&&e.preventDefault(),
this.model.set("showGroups",!0)},hideGroups:function(e){e&&e.preventDefault&&e.preventDefault(),this.model.set("showGroups",!1)},getGroupsCountTitle:function(){var e=this.model.get("groups").length,t=ngettext("Contains {count} group","Contains {count} groups",e);return s.interpolate(t,{count:e})},getUsageCountTitle:function(){var e=this.model.get("usage").length;return 0===e?i("Not in Use"):s.interpolate(ngettext("Used in {count} location","Used in {count} locations",e),{count:e})}});return r}),define("js/views/list_item_editor",["js/views/baseview","common/js/components/utils/view_utils","underscore","gettext"],function(e,t,i,n){"use strict";var s=e.extend({initialize:function(){this.listenTo(this.model,"invalid",this.render),this.listenTo(this.getSaveableModel(),"invalid",this.render)},render:function(){this.$el.html(this.template(i.extend({error:this.model.validationError||this.getSaveableModel().validationError},this.getTemplateOptions())))},setAndClose:function(e){return e&&e.preventDefault&&e.preventDefault(),this.setValues(),this.model.isValid()&&this.getSaveableModel().isValid()?void t.runOperationShowingMessage(n("Saving"),function(){var e=$.Deferred(),t=this.getSaveableModel();return t.save({},{success:function(){t.setOriginalAttributes(),this.close(),e.resolve()}.bind(this)}),e}.bind(this)):!1},cancel:function(e){return e&&e.preventDefault&&e.preventDefault(),this.getSaveableModel().reset(),this.close()},close:function(){return this.remove(),this.model.isNew()&&!i.isUndefined(this.model.collection)?this.model.collection.remove(this.model):this.model.set("editing",!1),this}});return s}),define("text!templates/group-edit.underscore",[],function(){return'<div class="input-wrap field long text required field-add-group-name group-<%- index %>-name\n    <% if (error && error.attributes && error.attributes.name) { print(\'error\'); } %>"><input name="group-<%- index %>-name" class="group-name long" value="<%- name %>" type="text">\n</div><div class="group-allocation"><%- allocation %>%</div>\n<a href="" class="action action-close"><span class="icon fa fa-times-circle" aria-hidden="true"></span> <span class="sr"><%- gettext("delete group") %></span></a>\n'}),define("js/views/experiment_group_edit",["js/views/baseview","underscore","underscore.string","gettext","text!templates/group-edit.underscore"],function(e,t,i,n,s){"use strict";var o=e.extend({tagName:"li",events:{"click .action-close":"removeGroup","change .group-name":"changeName","focus .group-name":"onFocus","blur .group-name":"onBlur"},className:function(){var e=this.model.collection.indexOf(this.model);return"field-group group group-"+e},initialize:function(){this.listenTo(this.model,"change",this.render)},render:function(){var e=this.model.collection,i=e.indexOf(this.model);return this.$el.html(t.template(s)({name:this.model.get("name"),allocation:this.getAllocation(),index:i,error:this.model.validationError})),this},changeName:function(e){return e&&e.preventDefault&&e.preventDefault(),this.model.set({name:this.$(".group-name").val()},{silent:!0}),this},removeGroup:function(e){return e&&e.preventDefault&&e.preventDefault(),this.model.collection.remove(this.model),this.remove()},getAllocation:function(){return Math.floor(100/this.model.collection.length)},onFocus:function(){this.$el.closest(".groups-fields").addClass("is-focused")},onBlur:function(){this.$el.closest(".groups-fields").removeClass("is-focused")}});return o}),define("js/views/group_configuration_editor",["js/views/list_item_editor","underscore","jquery","gettext","js/views/experiment_group_edit"],function(e,t,i,n,s){"use strict";var o=e.extend({tagName:"div",events:{"change .collection-name-input":"setName","change .group-configuration-description-input":"setDescription","click .action-add-group":"createGroup","focus .input-text":"onFocus","blur .input-text":"onBlur",submit:"setAndClose","click .action-cancel":"cancel"},className:function(){var e=this.model.collection.indexOf(this.model);return["collection-edit","group-configuration-edit","group-configuration-edit-"+e].join(" ")},initialize:function(){var t=this.model.get("groups");e.prototype.initialize.call(this),this.template=this.loadTemplate("group-configuration-editor"),this.listenTo(t,"add",this.onAddItem),this.listenTo(t,"reset",this.addAll),this.listenTo(t,"all",this.render)},render:function(){return e.prototype.render.call(this),this.addAll(),this},getTemplateOptions:function(){return{id:this.model.get("id"),uniqueId:t.uniqueId(),name:this.model.get("name"),description:this.model.get("description"),usage:this.model.get("usage"),isNew:this.model.isNew()}},getSaveableModel:function(){return this.model},onAddItem:function(e){var t=new s({model:e});return this.$("ol.groups").append(t.render().el),this},addAll:function(){this.model.get("groups").each(this.onAddItem,this)},createGroup:function(e){e&&e.preventDefault&&e.preventDefault();var t=this.model.get("groups");t.add([{name:t.getNextDefaultGroupName(),order:t.nextOrder()}])},setName:function(e){e&&e.preventDefault&&e.preventDefault(),this.model.set("name",this.$(".collection-name-input").val(),{silent:!0})},setDescription:function(e){e&&e.preventDefault&&e.preventDefault(),this.model.set("description",this.$(".group-configuration-description-input").val(),{silent:!0})},setValues:function(){return this.setName(),this.setDescription(),t.each(this.$(".groups li"),function(e,t){var n=this.model.get("groups").at(t);n&&n.set({name:i(".group-name",e).val()})},this),this}});return o}),define("js/views/group_configuration_item",["js/views/list_item","js/views/group_configuration_details","js/views/group_configuration_editor","gettext"],function(e,t,i,n){"use strict";var s=e.extend({events:{"click .delete":"deleteItem"},tagName:"section",baseClassName:"group-configuration",canDelete:!0,itemDisplayName:n("group configuration"),attributes:function(){return{id:this.model.get("id"),tabindex:-1}},createEditView:function(){return new i({model:this.model})},createDetailsView:function(){return new t({model:this.model})}});return s}),define("js/views/group_configurations_list",["js/views/list","js/views/group_configuration_item","gettext"],function(e,t,i){"use strict";var n=e.extend({tagName:"div",className:"group-configurations-list",newModelOptions:{addDefaultGroups:!0},itemCategoryDisplayName:i("group configuration"),newItemMessage:i("Add your first group configuration"),emptyMessage:i("You have not created any group configurations yet."),createItemView:function(e){return new t(e)}});return n}),define("js/views/content_group_editor",["js/views/list_item_editor","underscore"],function(e,t){"use strict";var i=e.extend({tagName:"div",className:"content-group-edit collection-edit",events:{submit:"setAndClose","click .action-cancel":"cancel"},initialize:function(){e.prototype.initialize.call(this),this.template=this.loadTemplate("content-group-editor")},getTemplateOptions:function(){return{id:this.model.get("id"),name:this.model.get("name"),index:this.model.collection.indexOf(this.model),isNew:this.model.isNew(),usage:this.model.get("usage"),uniqueId:t.uniqueId()}},setValues:function(){return this.model.set({name:this.$("input").val().trim()}),this},getSaveableModel:function(){return this.model.collection.parents[0]}});return i}),define("js/views/partition_group_details",["js/views/baseview","underscore","gettext","underscore.string","edx-ui-toolkit/js/utils/string-utils","edx-ui-toolkit/js/utils/html-utils"],function(e,t,i,n,s,o){"use strict";var r=e.extend({tagName:"div",events:{"click .edit":"editGroup","click .show-groups":"showContentGroupUsages","click .hide-groups":"hideContentGroupUsages"},className:function(){var e=this.model.collection.indexOf(this.model);return["collection","partition-group-details","partition-group-details-"+e].join(" ")},editGroup:function(){this.model.set({editing:!0})},initialize:function(){this.template=this.loadTemplate("partition-group-details"),this.restrictEditing=this.options.restrictEditing||!1,this.listenTo(this.model,"change",this.render)},render:function(e){var t=$.extend({},this.model.attributes,{usageCountMessage:this.getUsageCountTitle(),courseOutlineUrl:this.model.collection.parents[0].outlineUrl,index:this.model.collection.indexOf(this.model),showContentGroupUsages:e||!1,HtmlUtils:o,restrictEditing:this.restrictEditing});return o.setHtml(this.$el,o.HTML(this.template(t))),this},showContentGroupUsages:function(e){e&&e.preventDefault&&e.preventDefault(),this.render(!0)},hideContentGroupUsages:function(e){e&&e.preventDefault&&e.preventDefault(),this.render(!1)},getUsageCountTitle:function(){var e=this.model.get("usage").length;return 0===e?i("Not in Use"):s.interpolate(ngettext("Used in {count} location","Used in {count} locations",e),{count:e})}});return r}),define("js/views/partition_group_item",["js/views/list_item","js/views/content_group_editor","js/views/partition_group_details","gettext","common/js/components/utils/view_utils"],function(e,t,i,n){"use strict";var s=e.extend({events:{"click .delete":"deleteItem"},tagName:"section",baseClassName:"partition-group",canDelete:!0,itemDisplayName:n("content group"),attributes:function(){return{id:this.model.get("id"),tabindex:-1}},createEditView:function(){return new t({model:this.model})},createDetailsView:function(){return new i({model:this.model,restrictEditing:this.options.restrictEditing})}});return s}),define("js/views/partition_group_list",["underscore","js/views/list","js/views/partition_group_item","gettext"],function(e,t,i,n){"use strict";var s=t.extend({initialize:function(e){t.prototype.initialize.apply(this,[e]),this.scheme=e.scheme},tagName:"div",className:"partition-group-list",itemCategoryDisplayName:n("content group"),newItemMessage:n("Add your first content group"),emptyMessage:n("You have not created any content groups yet."),createItemView:function(t){return new i(e.extend({},t,{scheme:this.scheme}))}});return s}),define("js/views/pages/group_configurations",["jquery","underscore","gettext","js/views/pages/base_page","js/views/group_configurations_list","js/views/partition_group_list"],function(e,t,i,n,s,o){"use strict";var r=n.extend({initialize:function(e){var t,i;for(n.prototype.initialize.call(this),this.experimentsEnabled=e.experimentsEnabled,this.experimentsEnabled&&(this.experimentGroupConfigurations=e.experimentGroupConfigurations,this.experimentGroupsListView=new s({collection:this.experimentGroupConfigurations})),this.allGroupConfigurations=e.allGroupConfigurations||[],this.allGroupViewList=[],i=0;i<this.allGroupConfigurations.length;i++)t=this.allGroupConfigurations[i].get("scheme"),this.allGroupViewList.push(new o({collection:this.allGroupConfigurations[i].get("groups"),restrictEditing:this.allGroupConfigurations[i].get("read_only"),scheme:t}))},renderPage:function(){var t,i,n=this.getLocationHash();for(this.experimentsEnabled&&this.$(".wrapper-groups.experiment-groups").append(this.experimentGroupsListView.render().el),t=0;t<this.allGroupViewList.length;t++)i=".wrapper-groups.content-groups."+this.allGroupViewList[t].scheme,this.$(i).append(this.allGroupViewList[t].render().el);return this.addWindowActions(),n&&this.expandConfiguration(n.replace("#","")),e.Deferred().resolve().promise()},addWindowActions:function(){e(window).on("beforeunload",this.onBeforeUnload.bind(this))},areAnyConfigurationsDirty:function(){var e;for(e=0;e<this.allGroupConfigurations.length;e++)if(this.allGroupConfigurations[e].isDirty())return!0;return!1},onBeforeUnload:function(){var e=this.areAnyConfigurationsDirty()||this.experimentsEnabled&&this.experimentGroupConfigurations.find(function(e){return e.isDirty()});return e?i("You have unsaved changes. Do you really want to leave this page?"):void 0},getLocationHash:function(){return window.location.hash},expandConfiguration:function(e){var t=this.experimentsEnabled&&this.experimentGroupConfigurations.findWhere({id:parseInt(e)});t&&(t.set("showGroups",!0),this.$("#"+e).focus())}});return r}),define("js/factories/group_configurations",["js/collections/group_configuration","js/models/group_configuration","js/views/pages/group_configurations"],function(e,t,i){"use strict";return function(n,s,o,r,a){var l,u,c=new e(s,{parse:!0}),d=[];for(u=0;u<o.length;u++)l=new t(o[u],{parse:!0,canBeEmpty:!0}),l.urlRoot=r,l.outlineUrl=a,d.push(l);c.url=r,c.outlineUrl=a,new i({el:$("#content"),experimentsEnabled:n,experimentGroupConfigurations:c,allGroupConfigurations:d}).render()}});