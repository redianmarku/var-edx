!function(e,t){for(var n in t)e[n]=t[n]}(window,webpackJsonp([15,22,46],{"./common/static/js/src/ReactRenderer.jsx":function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"ReactRenderer",function(){return f});var s=n("./node_modules/react/index.js"),i=n.n(s),c=n("./node_modules/react-dom/index.js"),l=n.n(c),d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},p=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),m=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"ReactRendererException: "+e));return Error.captureStackTrace(n,t),n}return r(t,e),t}(Error),f=function(){function e(t){var n=t.component,a=t.selector,r=t.componentName,s=t.props,i=void 0===s?{}:s;o(this,e),u(this,{component:n,selector:a,componentName:r,props:i}),this.handleArgumentErrors(),this.targetElement=this.getTargetElement(),this.renderComponent()}return p(e,[{key:"handleArgumentErrors",value:function(){if(null===this.component)throw new m("Component "+this.componentName+" is not defined. Make sure you're using a non-default export statement for the "+this.componentName+" class, that "+this.componentName+" has an entry point defined within the 'entry' section of webpack.common.config.js, and that the entry point is pointing at the correct file path.");if(!(this.props instanceof Object&&this.props.constructor===Object)){var e=d(this.props);throw Array.isArray(this.props)?e="array":null===this.props&&(e="null"),new m("Invalid props passed to component "+this.componentName+". Expected an object, but received a "+e+".")}}},{key:"getTargetElement",value:function(){var e=document.querySelectorAll(this.selector);if(1!==e.length)throw new m('Expected 1 element match for selector "'+this.selector+'" but received '+e.length+" matches.");return e[0]}},{key:"renderComponent",value:function(){l.a.render(i.a.createElement(this.component,this.props,null),this.targetElement)}}]),e}()},"./lms/static/js/student_account/AccountsClient.js":function(e,t,n){"use strict";n.d(t,"a",function(){return s});var o=n("./node_modules/whatwg-fetch/fetch.js"),a=(n.n(o),n("./node_modules/js-cookie/src/js.cookie.js")),r=n.n(a),s=function(e){return fetch("/api/user/v1/accounts/deactivate_logout/",{method:"POST",credentials:"same-origin",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","X-CSRFToken":r.a.get("csrftoken")},body:"password="+encodeURIComponent(e)}).then(function(e){if(e.ok)return e;throw new Error(e)})}},"./lms/static/js/student_account/StudentAccountDeletionInitializer.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n("./common/static/js/src/ReactRenderer.jsx"),a=n("./lms/static/js/student_account/components/StudentAccountDeletion.jsx"),r=0,s=setInterval(function(){document.getElementById("account-deletion-container")&&(clearInterval(s),new o.ReactRenderer({component:a.StudentAccountDeletion,selector:"#account-deletion-container",componentName:"StudentAccountDeletion",props:{socialAccountLinks:window.auth,isActive:window.isActive}})),(r+=50)>=6e4&&clearInterval(s)},50)},"./lms/static/js/student_account/components/StudentAccountDeletion.jsx":function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"StudentAccountDeletion",function(){return h});var s=n("./node_modules/react/index.js"),i=n.n(s),c=n("./node_modules/prop-types/index.js"),l=n.n(c),d=n("./node_modules/@edx/paragon/static/index.js"),u=(n.n(d),n("./node_modules/edx-ui-toolkit/src/js/utils/string-utils.js")),p=n.n(u),m=n("./lms/static/js/student_account/components/StudentAccountDeletionModal.jsx"),f=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),h=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.closeDeletionModal=n.closeDeletionModal.bind(n),n.loadDeletionModal=n.loadDeletionModal.bind(n),n.state={deletionModalOpen:!1,isActive:e.isActive,socialAuthConnected:n.getConnectedSocialAuth()},n}return r(t,e),f(t,[{key:"getConnectedSocialAuth",value:function(){var e=this.props.socialAccountLinks;return!(!e||!e.providers)&&e.providers.reduce(function(e,t){return e||t.connected},!1)}},{key:"closeDeletionModal",value:function(){this.setState({deletionModalOpen:!1}),this.modalTrigger.focus()}},{key:"loadDeletionModal",value:function(){this.setState({deletionModalOpen:!0})}},{key:"render",value:function(){var e=this,t=this.state,n=t.deletionModalOpen,o=t.socialAuthConnected,a=t.isActive,r=p.a.interpolate(gettext("You may also lose access to verified certificates and other program credentials like MicroMasters certificates. If you want to make a copy of these for your records before proceeding with deletion, follow the instructions for {htmlStart}printing or downloading a certificate{htmlEnd}."),{htmlStart:'<a href="https://edx.readthedocs.io/projects/edx-guide-for-students/en/latest/SFD_certificates.html#printing-a-certificate" target="_blank">',htmlEnd:"</a>"}),s=o||!a,c=p.a.interpolate(gettext("Before proceeding, please {htmlStart}unlink all social media accounts{htmlEnd}."),{htmlStart:'<a href="https://support.edx.org/hc/en-us/articles/207206067" target="_blank">',htmlEnd:"</a>"}),l=p.a.interpolate(gettext("Before proceeding, please {htmlStart}activate your account{htmlEnd}."),{htmlStart:'<a href="https://support.edx.org/hc/en-us/articles/115000940568-How-do-I-activate-my-account-" target="_blank">',htmlEnd:"</a>"}),u=p.a.interpolate(gettext("{htmlStart}Want to change your email, name, or password instead?{htmlEnd}"),{htmlStart:'<a href="https://support.edx.org/hc/en-us/sections/115004139268-Manage-Your-Account-Settings" target="_blank">',htmlEnd:"</a>"}),f=p.a.interpolate(gettext("{strongStart}Warning: Account deletion is permanent.{strongEnd} Please read the above carefully before proceeding. This is an irreversible action, and {strongStart}you will no longer be able to use the same email on edX.{strongEnd}"),{strongStart:"<strong>",strongEnd:"</strong>"});return i.a.createElement("div",{className:"account-deletion-details"},i.a.createElement("p",{className:"account-settings-header-subtitle"},gettext("We’re sorry to see you go!")),i.a.createElement("p",{className:"account-settings-header-subtitle"},gettext("Please note: Deletion of your account and personal data is permanent and cannot be undone. EdX will not be able to recover your account or the data that is deleted.")),i.a.createElement("p",{className:"account-settings-header-subtitle"},gettext("Once your account is deleted, you cannot use it to take courses on the edX app, edx.org, or any other site hosted by edX. This includes access to edx.org from your employer’s or university’s system and access to private sites offered by MIT Open Learning, Wharton Executive Education, and Harvard Medical School.")),i.a.createElement("p",{className:"account-settings-header-subtitle",dangerouslySetInnerHTML:{__html:r}}),i.a.createElement("p",{className:"account-settings-header-subtitle-warning",dangerouslySetInnerHTML:{__html:f}}),i.a.createElement("p",{className:"account-settings-header-subtitle",dangerouslySetInnerHTML:{__html:u}}),i.a.createElement(d.Button,{id:"delete-account-btn",className:["btn-outline-primary"],disabled:s,label:gettext("Delete My Account"),inputRef:function(t){e.modalTrigger=t},onClick:this.loadDeletionModal}),s&&i.a.createElement(d.StatusAlert,{dialog:i.a.createElement("div",{className:"modal-alert"},i.a.createElement("div",{className:"icon-wrapper"},i.a.createElement(d.Icon,{id:"delete-confirmation-body-error-icon",className:["fa","fa-exclamation-circle"]})),i.a.createElement("div",{className:"alert-content"},o&&a&&i.a.createElement("p",{dangerouslySetInnerHTML:{__html:c}}),!a&&i.a.createElement("p",{dangerouslySetInnerHTML:{__html:l}}))),alertType:"danger",dismissible:!1,open:!0}),n&&i.a.createElement(m.a,{onClose:this.closeDeletionModal}))}}]),t}(i.a.Component);h.propTypes={isActive:l.a.bool.isRequired,socialAccountLinks:l.a.shape({providers:l.a.arrayOf(l.a.object)}).isRequired}},"./lms/static/js/student_account/components/StudentAccountDeletionModal.jsx":function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n("./node_modules/react/index.js"),i=n.n(s),c=n("./node_modules/prop-types/index.js"),l=n.n(c),d=n("./node_modules/@edx/paragon/static/index.js"),u=(n.n(d),n("./node_modules/edx-ui-toolkit/src/js/utils/string-utils.js")),p=n.n(u),m=n("./lms/static/js/student_account/AccountsClient.js"),f=n("./lms/static/js/student_account/components/removeLoggedInCookies.js"),h=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),y=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.deleteAccount=n.deleteAccount.bind(n),n.handlePasswordInputChange=n.handlePasswordInputChange.bind(n),n.passwordFieldValidation=n.passwordFieldValidation.bind(n),n.handleConfirmationModalClose=n.handleConfirmationModalClose.bind(n),n.state={password:"",passwordSubmitted:!1,passwordValid:!0,validationMessage:"",validationErrorDetails:"",accountQueuedForDeletion:!1,responseError:!1},n}return r(t,e),h(t,[{key:"handleConfirmationModalClose",value:function(){this.props.onClose(),n.i(f.a)(),window.location.href="https://www.edx.org"}},{key:"deleteAccount",value:function(){var e=this;return this.setState({passwordSubmitted:!0},function(){return n.i(m.a)(e.state.password).then(function(){return e.setState({accountQueuedForDeletion:!0,responseError:!1,passwordSubmitted:!1,validationMessage:"",validationErrorDetails:""})}).catch(function(t){return e.failedSubmission(t)})})}},{key:"failedSubmission",value:function(e){var t=e.status,n=403===t?gettext("Password is incorrect"):gettext("Unable to delete account"),o=403===t?gettext("Please re-enter your password."):gettext("Sorry, there was an error trying to process your request. Please try again later.");this.setState({passwordSubmitted:!1,responseError:!0,passwordValid:!1,validationMessage:n,validationErrorDetails:o})}},{key:"handlePasswordInputChange",value:function(e){this.setState({password:e})}},{key:"passwordFieldValidation",value:function(e){var t={passwordValid:!0};e.length<1&&(t={passwordValid:!1,validationMessage:gettext("A Password is required"),validationErrorDetails:""}),this.setState(t)}},{key:"renderConfirmationModal",value:function(){var e=this.state,t=e.passwordValid,n=e.password,o=e.passwordSubmitted,a=e.responseError,r=e.validationErrorDetails,s=e.validationMessage,c=this.props.onClose,l=p.a.interpolate(gettext("You may also lose access to verified certificates and other program credentials like MicroMasters certificates. If you want to make a copy of these for your records before proceeding with deletion, follow the instructions for {htmlStart}printing or downloading a certificate{htmlEnd}."),{htmlStart:'<a href="https://edx.readthedocs.io/projects/edx-guide-for-students/en/latest/SFD_certificates.html#printing-a-certificate" target="_blank">',htmlEnd:"</a>"});return i.a.createElement("div",{className:"delete-confirmation-wrapper"},i.a.createElement(d.Modal,{title:gettext("Are you sure?"),renderHeaderCloseButton:!1,onClose:c,"aria-live":"polite",open:!0,body:i.a.createElement("div",null,a&&i.a.createElement(d.StatusAlert,{dialog:i.a.createElement("div",{className:"modal-alert"},i.a.createElement("div",{className:"icon-wrapper"},i.a.createElement(d.Icon,{id:"delete-confirmation-body-error-icon",className:["fa","fa-exclamation-circle"]})),i.a.createElement("div",{className:"alert-content"},i.a.createElement("h3",{className:"alert-title"},s),i.a.createElement("p",null,r))),alertType:"danger",dismissible:!1,open:!0}),i.a.createElement(d.StatusAlert,{dialog:i.a.createElement("div",{className:"modal-alert"},i.a.createElement("div",{className:"icon-wrapper"},i.a.createElement(d.Icon,{id:"delete-confirmation-body-warning-icon",className:["fa","fa-exclamation-triangle"]})),i.a.createElement("div",{className:"alert-content"},i.a.createElement("h3",{className:"alert-title"},gettext("You have selected “Delete my account.” Deletion of your account and personal data is permanent and cannot be undone. EdX will not be able to recover your account or the data that is deleted.")),i.a.createElement("p",null,gettext("If you proceed, you will be unable to use this account to take courses on the edX app, edx.org, or any other site hosted by edX. This includes access to edx.org from your employer’s or university’s system and access to private sites offered by MIT Open Learning, Wharton Executive Education, and Harvard Medical School.")),i.a.createElement("p",{dangerouslySetInnerHTML:{__html:l}}))),dismissible:!1,open:!0}),i.a.createElement("p",{className:"next-steps"},gettext("If you still wish to continue and delete your account, please enter your account password:")),i.a.createElement(d.InputText,{name:"confirm-password",label:"Password",type:"password",className:["confirm-password-input"],onBlur:this.passwordFieldValidation,isValid:t,validationMessage:s,onChange:this.handlePasswordInputChange,autoComplete:"new-password",themes:["danger"]})),closeText:gettext("Cancel"),buttons:[i.a.createElement(d.Button,{label:gettext("Yes, Delete"),onClick:this.deleteAccount,disabled:0===n.length||o})]}))}},{key:"renderSuccessModal",value:function(){return i.a.createElement("div",{className:"delete-success-wrapper"},i.a.createElement(d.Modal,{title:gettext("We're sorry to see you go! Your account will be deleted shortly."),renderHeaderCloseButton:!1,body:gettext("Account deletion, including removal from email lists, may take a few weeks to fully process through our system. If you want to opt-out of emails before then, please unsubscribe from the footer of any email."),onClose:this.handleConfirmationModalClose,"aria-live":"polite",open:!0}))}},{key:"render",value:function(){return this.state.accountQueuedForDeletion?this.renderSuccessModal():this.renderConfirmationModal()}}]),t}(i.a.Component);y.propTypes={onClose:l.a.func},y.defaultProps={onClose:function(){}},t.a=y},"./lms/static/js/student_account/components/removeLoggedInCookies.js":function(e,t,n){"use strict";var o=n("./node_modules/js-cookie/src/js.cookie.js"),a=n.n(o),r=function(){var e=window.location.hostname,t=e.indexOf("localhost")>=0,n=e.indexOf("stage")>=0,o=".edx.org";if(t?o="localhost":n&&(o=".stage.edx.org"),a.a.remove("edxloggedin",{domain:o}),t)a.a.remove("csrftoken",{domain:o}),a.a.remove("edx-user-info",{domain:o});else{var r=n?"stage":"prod";a.a.remove(r+"-edx-csrftoken",{domain:".edx.org"}),a.a.remove(r+"-edx-user-info",{domain:o})}};t.a=r}},["./lms/static/js/student_account/StudentAccountDeletionInitializer.js"]));